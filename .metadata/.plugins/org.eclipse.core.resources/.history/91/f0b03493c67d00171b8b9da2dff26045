#ifndef		__VARIABLES_
#define		__VARIABLES_

extern double reference_out;
extern char MonitorMsg[21];
extern double reference_in;

extern int gCommand;
extern double ref_in0;

extern int gPWMTripCode;

extern int scia_cmd;
extern double scia_ref;

extern int scia_rx_msg_flag;
extern char gStr1[41];
extern unsigned int adc_result[10];

extern double rpm; 
extern double RMS_Ia;
extern double RMS_Ib;
extern double Freq_out;
extern double Vs_rat;
extern double Is_rat;
extern double inv_Is_rat;
extern double we_rat;
extern double inv_Freq_rat;
extern double inv_motor_rate_hz;
extern double wr_rat;
extern double wm_rat;
extern double Te_rat;
extern double inv_Te_rat;
extern double Fs_rat;
extern double Kt;
extern double inv_Kt;
extern double P_pair;
extern double inv_P_pair;
extern double rpm_Coeff;
extern double S_rat;
extern double S_lin;
extern double Freq_slip_rat;
extern double Ts;
extern double inv_Ts;
extern double Ts_max;
extern double Is_max;
extern double OverCurLimit;
extern double Tr;
extern double inv_Tr;
extern double sigma_Ls;
extern double inv_sigma_Ls;
extern double sigma;
extern double sigma_Tr;
extern double inv_sigma_Tr;
extern double sigma_minus_1_div_sigma_Ls;
extern double sigma_Ls_div_1_plus_sigma;
extern double Lm_div_Lr;
extern double Lr_div_Lm;
extern double inv_Ls_plus_sigma_Ls;
extern double inv_GM_Is_square_minus_1;
extern double inv_Ls;
extern double SlipCoeff;
extern double inv_GM_Is;
extern double wp_Is_Coeff;
extern double Kp_Is_Coeff;
extern double wp_Is;
extern double Kp_Is;
extern double Ki_Is;
extern double Fs_B;
extern double inv_Fs_B;
extern double Fs_ref;
extern double I_QS_rat;
extern double wr_FilterPole;
extern double wn_wr;
extern double Kp_wr;
extern double Ki_wr;

extern double I_rms;

extern TRIP_INFO TripInfo;
extern TRIP_INFO TripInfoNow;

extern int gRunFlag;
extern int gTripSaveFlag;

extern int Flag_TripDataBackup;
extern int EepromSaveFlag;

extern int gMachineState;
extern Uint16 Buffer_full;

//extern float DB_A[BUFFER_LENGTH];
//extern float DB_B[BUFFER_LENGTH];

extern int code_protect_inhibit_on;
extern double Vdc;
extern double analog_ref;
extern double analog_ref_a;

extern union PROTECT_FLAG protect_reg;
extern Uint16 MAX_PWM_CNT;

extern double code_min_vf_ref;
extern int command;
extern int machine_state;
extern int loop_ctrl;
extern int trip_code;
extern int runtime_count;

extern int adc_I_u_phase;
extern int adc_I_v_phase;
extern int adc_Vdc;
extern int adc_IGBT_Temp;
extern int adc_Ex_sensor;

extern double I_u_phase;
extern double I_v_phase;

extern Uint16 i;
extern Uint32 Loop_cnt, CLA_cnt;

// Used for ADC Configuration 
/*

extern int code_motor_ctrl_mode;		// CODE 1
extern double code_accel_time1;

extern double code_posi_duration_time;	//		10	
extern double code_zero_duration_time;	//		11
extern double code_nega_duration_time;	//		12
extern double code_test_accel_time;		//		13	
extern double code_test_decel_time;		//		14
extern int	  code_set_Vdc_on;			//		15
extern double code_Vdc_set_value;		//		16
extern double code_set_pulse_number;	//		17

*/
//============================================
//   CODE variable 
//============================================
extern int code_run_input_select;
extern int code_motor_ctrl_mode;
extern int code_motor_direction_change;
extern int code_ramp_func_mode;

extern double code_Vdc_ref;
extern double code_start_Vdc_ref;		// 6
extern double code_max_Vdc_ref;		// 7

extern double code_accel_time1;
extern double code_decel_time1;
extern double code_accel_time2;				// 12
extern double code_decel_time2;				// 13
extern double code_btn_start_ref;			// 14
extern double code_jog_speed;				// 15
extern double code_min_vf_ref;				// 109
extern double code_digital_speed2;			//22

///////////////////////////
extern int code_protect_inhibit_on;	// 30
extern int code_protect_uv_off;		// 31
extern int code_protect_ov_off;		// 32
extern int code_protect_Iadc_off;		// 33
extern int code_protect_over_I_off;	// 34
extern int code_protect_IGBT_off;		// 35
extern int code_protect_ex_trip_off;	// 36
extern int code_protect_IGBT2_off;		// 37
extern int code_protect_CONV_adc_off;	// 38
///////////////////////////

extern int code_use_binary_input;		// 100
extern double code_speed1;					// 101
extern double code_speed2;					// 102
extern double code_speed3;					// 103
extern double code_speed4;					// 104
extern double code_speed5;					// 105
extern double code_speed6;					// 106
extern double code_speed7;					// 
extern double code_speed8;					// 
extern double code_speed9;					// 
extern double code_speed10;				// 
extern double code_speed11;				// 
extern double code_speed12;				// 
extern double code_speed13;				// 
extern double code_speed14;				// 
extern double code_speed15;				// 
extern double code_speed16;				// 

extern int code_select_in_func0;
extern int code_select_in_func1;
extern int code_select_in_func2;
extern int code_select_in_func3;
extern int code_select_in_func4;
extern int code_select_in_func5;
extern int code_select_in_func6;
extern int code_select_in_func7;

// group2

extern double analog_cmd_in_zero1;		// 200
extern double analog_cmd_in_span1;		// 201
extern double analog_cmd_in_zero2;		// 202
extern double analog_cmd_in_span2;		// 203

extern int code_dac_select_ch1;		// 213	
extern double code_dac_scale_ch1;		//214
extern double code_dac_offset_ch1;		// 215

extern int code_dac_select_ch2;		// 216
extern double code_dac_scale_ch2;		//217
extern double code_dac_offset_ch2;		//218

extern int code_dac_select_ch3;		// 219
extern double code_dac_scale_ch3;		// 220
extern double code_dac_offset_ch3;		// 221

extern int code_dac_select_ch4;		// 222
extern double code_dac_scale_ch4;		// 223
extern double code_dac_offset_ch4;		// 224

// group3
extern double over_current_level;		// 300
extern double code_OC_convt_level;		// 301

extern double over_volt_set;			// 302
extern double code_under_volt_set;		// 303
extern double over_speed_level;		// 304
extern double e_thermal_level;			// 305
extern double pre_charge_time;			// 306
extern double Is_Max_Coeff;			// 307
extern double over_I_time;				// 308

extern double code_Vdc_scaler;			// 310  2011.0613
extern double code_Vdc_offseter;		// 312
extern double code_adc_vdc_low;		// 313
extern double code_adc_vdc_high;		// 314
extern double code_Vdc_calc_low;		// 315
extern double code_Vdc_calc_high;		// 316

extern double code_adc_Vs_R_low;		// 319
extern double code_adc_Vs_R_high;		// 317
extern double code_Vs_R_calc_low;		// 318
extern double code_Vs_R_calc_high;		// 319

extern double code_adc_Vs_S_low;		// 322
extern double code_adc_Vs_S_high;		// 323
extern double code_Vs_S_calc_low;		// 324
extern double code_Vs_S_calc_high;		// 325

extern double code_adc_Vs_T_low;		// 328
extern double code_adc_Vs_T_high;		// 329
extern double code_Vs_T_calc_low;		// 330
extern double code_Vs_T_calc_high;		// 331

extern double code_Vs_R_scale;			// 330
extern double code_Vs_S_scale;			// 331
extern double code_Vs_T_scale;			// 332

extern double code_Vs_R_offset;		// 333
extern double code_Vs_S_offset;		// 334
extern double code_Vs_T_offset;		// 335

extern double code_LPF_cutoff_hz_I;	// 340
extern double code_LPF_cutoff_hz_V;	// 341

extern double code_Ude_Ki; 			// 110
extern double code_Ude_Kp;				// 111

extern double code_Vdc_link_Ki;		// 112
extern double code_Vdc_link_Kp;		// 113

extern double code_Ide_Ki;				// 120
extern double code_Ide_Kp;				// 121

extern double code_Iqe_Ki;				// 122
extern double code_Iqe_Kp;				// 123

extern double code_Ide_Limit;			// 124
extern double code_Iqe_Limit;			// 125

//group 4
extern double motor_rate_power;		// 400
extern double motor_rate_volt;			// 401
extern double motor_rate_current;		// 402
extern double motor_rate_hz;			// 403
extern double motor_rate_rpm;			// 404
extern double motor_pole;				// 405
extern double motor_rate_effiency;		// 406	

extern double Rs;						// 407
extern double Rr;						// 408
extern double Ls;						// 409
extern double Lr;						// 410
extern double Lm;						// 411
extern double Jm;						// 412

// group5
extern double I_sense_value;			// 500
extern double u_phase_I_sense_span;	// 502
extern double v_phase_I_sense_span;	// 504
extern double vdc_sense_zero;			// 505
extern double vdc_sense_span;			// 506
extern double igbt_pwm_freq;			// 508

extern int adc_u_offset;				// 510
extern int adc_v_offset;				// 511

extern int adc_R_offset;				// 512
extern int adc_S_offset;				// 513

extern double R_phase_I_sense_span;	// 515
extern double S_phase_I_sense_span;	// 517

// group6

extern double VF_DeadTimeGain;
extern double VF_ExcitationTime;
extern double VF_Fs_Coeff;
extern double VF_Freq_TrqBoost;
extern double VF_Vs_Coeff_TrqBoost;
extern double VF_Rs_ThermalCoeff;
extern double VF_IR_Comp_FilterPole;
extern double VF_Slip_Comp_FilterPole;
extern double VF_Rs;

extern double AT_Freq_Leq_Req;			// 610
extern double AT_Time_Leq_Req;			// 611
extern double AT_Is_Coeff_Leq_Req;		// 612

extern double AT_Is_Coeff_Rs;			// 613
extern double AT_Time_Rs;				// 614

extern double AT_DeadTimeGain;			// 615
extern double AT_Ls_Vs_RAMP;			// 616
extern double AT_Freq_Ls;				// 617
extern double AT_Time_Ls;				// 618
extern double AT_Ls_DMB_OpenTime;		// 619				

extern double AT_Te_Coeff_Jm;			// 620
extern double AT_Time_Jm;				// 621
extern int Jm_ID_ENABLE;				// 622

extern double code_posi_duration_time;	// 624
extern double code_zero_duration_time;	// 625
extern double code_nega_duration_time;	// 626
extern double code_test_accel_time;	// 627
extern double code_test_decel_time;	// 628

 
extern double code_Ki_Is_Coeff;		// 630
extern double code_Kp_Is_Coeff;		// 631

extern int code_set_Vdc_on;			//	635
extern double code_Vdc_set_value;		//	636
extern int code_set_pulse_number;		//  637

// group 7 advance control vaiable 

extern double wr_FilterPoleCoeff;		// 700
extern double wn_wr_Coeff;				// 701
extern double Max_wn_wr;				// 702
extern double K_Damp_wr;				// 703
extern double wr_DampingRatio;			// 704
extern int wr_CntlPeriodIndex;			// 705
	
// �ڼ� ����
extern double FW_VoltageCoeff;			// 706
extern double Base_Flux_Coeff;			// 707
extern double ExcitationTime;			// 708
extern double K_Damp_Fr;				// 709
extern double GM_Fr;					// 710
extern double PM_Fr;					// 711

extern double K_Damp_Is;				// 715
extern double GM_Is;					// 716
extern double PM_Is;					// 717

// �������� ���� ����
extern double Default_wr_FilterPole;	// 720
extern double SlipCompCoeff;			// 721
extern double GammaLambda;				// 722
extern double GammaLambda_R_Constant;	// 723	
extern double Max_DeltaLambda;			// 724
extern double GammaTheta_M;			// 725
extern double GammaTheta_R;			// 726
extern double Max_DeltaTheta;			// 727
extern double Delta_wr_FilterPoleCoeff_L; //728
extern double Delta_wr_FilterPoleCoeff_U; //729

extern double Data_Check;				// 800
extern double Data_Backup;				// 801
extern double Data_Load;				// 802
extern double Data_Init;				// 803

extern CODE_INFO code_inform;

//=====================================================

#endif

